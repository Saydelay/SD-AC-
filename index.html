<!DOCTYPE html>
<html>
<head>
  <title>Cheat-Scan Ergebnis anzeigen</title>
  <meta charset="UTF-8" />
</head>
<body>
  <h2>ðŸ”Ž Gist-URL eingeben:</h2>
  <input type="text" id="gistUrlInput" placeholder="https://gist.github.com/..." size="60" />
  <button onclick="fetchGist()">Daten abrufen</button>

  <pre id="resultDisplay"></pre>

  <script>
    async function fetchGist() {
      const gistUrl = document.getElementById("gistUrlInput").value.trim();
      if (!gistUrl) {
        document.getElementById("resultDisplay").textContent = "Bitte eine gÃ¼ltige Gist-URL eingeben.";
        return;
      }

      // Gist-ID aus URL extrahieren
      const match = gistUrl.match(/gist.github.com\/[^\/]+\/([a-f0-9]+)/);
      if (!match) {
        document.getElementById("resultDisplay").textContent = "UngÃ¼ltige Gist-URL.";
        return;
      }

      const gistId = match[1];

      try {
        const response = await fetch(`https://api.github.com/gists/${gistId}`);
        if (!response.ok) {
          document.getElementById("resultDisplay").textContent = "Gist nicht gefunden.";
          return;
        }
        const gist = await response.json();
        const fileKey = Object.keys(gist.files)[0];
        const content = gist.files[fileKey].content;

        document.getElementById("resultDisplay").textContent = content;
      } catch (e) {
        document.getElementById("resultDisplay").textContent = "Fehler beim Laden des Gists.";
      }
    }
  </script>
</body>
</html>
